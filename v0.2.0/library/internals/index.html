<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Private · OceanTurbulenceParameterEstimation.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://clima.github.io/OceanTurbulenceParameterEstimation/dev/library/internals/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">OceanTurbulenceParameterEstimation.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../installation_instructions/">Installation Instructions</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../literated/intro_to_observations/">Intro to observations</a></li><li><a class="tocitem" href="../../literated/intro_to_inverse_problems/">Intro to <code>InverseProblem</code></a></li><li><a class="tocitem" href="../../literated/perfect_convective_adjustment_calibration/">Perfect convective adjustment calibration with Ensemble Kalman Inversion</a></li><li><a class="tocitem" href="../../literated/unscented_perfect_convective_adjustment_calibration/">Perfect convective adjustment calibration with Unscented Ensemble Kalman Inversion</a></li><li><a class="tocitem" href="../../literated/perfect_catke_calibration/">Perfect CAKTE calibration with Ensemble Kalman Inversion</a></li><li><a class="tocitem" href="../../literated/perfect_baroclinic_adjustment_calibration/">Perfect baroclinic adjustment calibration with Ensemble Kalman Inversion</a></li></ul></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="../outline/">Contents</a></li><li><a class="tocitem" href="../public/">Public</a></li><li class="is-active"><a class="tocitem" href>Private</a><ul class="internal"><li><a class="tocitem" href="#OceanTurbulenceParameterEstimation"><span>OceanTurbulenceParameterEstimation</span></a></li><li><a class="tocitem" href="#Observations"><span>Observations</span></a></li><li><a class="tocitem" href="#TurbulenceClosureParameters"><span>TurbulenceClosureParameters</span></a></li><li><a class="tocitem" href="#EnsembleKalmanInversions"><span>EnsembleKalmanInversions</span></a></li></ul></li><li><a class="tocitem" href="../function_index/">Function index</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Library</a></li><li class="is-active"><a href>Private</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Private</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/CliMA/OceanTurbulenceParameterEstimation.jl/blob/master/docs/src/library/internals.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Private-types-and-functions"><a class="docs-heading-anchor" href="#Private-types-and-functions">Private types and functions</a><a id="Private-types-and-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Private-types-and-functions" title="Permalink"></a></h1><p>Documentation for <code>OceanTurbulenceParameterEstimation.jl</code>&#39;s internal interface.</p><h2 id="OceanTurbulenceParameterEstimation"><a class="docs-heading-anchor" href="#OceanTurbulenceParameterEstimation">OceanTurbulenceParameterEstimation</a><a id="OceanTurbulenceParameterEstimation-1"></a><a class="docs-heading-anchor-permalink" href="#OceanTurbulenceParameterEstimation" title="Permalink"></a></h2><h2 id="Observations"><a class="docs-heading-anchor" href="#Observations">Observations</a><a id="Observations-1"></a><a class="docs-heading-anchor-permalink" href="#Observations" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="OceanTurbulenceParameterEstimation.Observations.FieldTimeSeriesCollector-Tuple{Any, Any}" href="#OceanTurbulenceParameterEstimation.Observations.FieldTimeSeriesCollector-Tuple{Any, Any}"><code>OceanTurbulenceParameterEstimation.Observations.FieldTimeSeriesCollector</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">FieldTimeSeriesCollector(collected_fields, times; architecture=CPU())</code></pre><p>Returns a <code>FieldTimeSeriesCollector</code> for <code>fields</code> of <code>simulation</code>. <code>fields</code> is a <code>NamedTuple</code> of <code>AbstractField</code>s that are to be collected.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/OceanTurbulenceParameterEstimation.jl/blob/dd0989cb56fb7c7e0361e5611e1fc3f0b6e8f967/src/Observations.jl#L224-L229">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OceanTurbulenceParameterEstimation.Observations.SyntheticObservations" href="#OceanTurbulenceParameterEstimation.Observations.SyntheticObservations"><code>OceanTurbulenceParameterEstimation.Observations.SyntheticObservations</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SyntheticObservations{F, G, T, P, M} &lt;: AbstractObservation</code></pre><p>A time series of synthetic observations generated by Oceananigans.jl&#39;s simulations gridded as Oceananigans.jl fields.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/OceanTurbulenceParameterEstimation.jl/blob/dd0989cb56fb7c7e0361e5611e1fc3f0b6e8f967/src/Observations.jl#L19-L24">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OceanTurbulenceParameterEstimation.Observations.column_ensemble_interior-Tuple{Vector{var&quot;#s50&quot;} where var&quot;#s50&quot;&lt;:SyntheticObservations, Any, Any, Any}" href="#OceanTurbulenceParameterEstimation.Observations.column_ensemble_interior-Tuple{Vector{var&quot;#s50&quot;} where var&quot;#s50&quot;&lt;:SyntheticObservations, Any, Any, Any}"><code>OceanTurbulenceParameterEstimation.Observations.column_ensemble_interior</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">column_ensemble_interior(observations::Vector{&lt;:SyntheticObservations}, field_name, time_indices::Vector, N_ens)</code></pre><p>Returns an <code>N_cases × N_ens × Nz</code> array of the interior of a field <code>field_name</code> defined on a  <code>OneDimensionalEnsembleGrid</code> of size <code>N_cases × N_ens × Nz</code>, given a list of <code>SyntheticObservations</code> objects containing the <code>N_cases</code> single-column fields at time index in <code>time_index</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/OceanTurbulenceParameterEstimation.jl/blob/dd0989cb56fb7c7e0361e5611e1fc3f0b6e8f967/src/Observations.jl#L170-L176">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OceanTurbulenceParameterEstimation.Observations.observation_names-Tuple{Vector{var&quot;#s28&quot;} where var&quot;#s28&quot;&lt;:SyntheticObservations}" href="#OceanTurbulenceParameterEstimation.Observations.observation_names-Tuple{Vector{var&quot;#s28&quot;} where var&quot;#s28&quot;&lt;:SyntheticObservations}"><code>OceanTurbulenceParameterEstimation.Observations.observation_names</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">observation_names(ts_vector::Vector{&lt;:SyntheticObservations})</code></pre><p>Return a Set representing the union of all names in <code>ts_vector</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/OceanTurbulenceParameterEstimation.jl/blob/dd0989cb56fb7c7e0361e5611e1fc3f0b6e8f967/src/Observations.jl#L36-L40">source</a></section></article><h2 id="TurbulenceClosureParameters"><a class="docs-heading-anchor" href="#TurbulenceClosureParameters">TurbulenceClosureParameters</a><a id="TurbulenceClosureParameters-1"></a><a class="docs-heading-anchor-permalink" href="#TurbulenceClosureParameters" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="OceanTurbulenceParameterEstimation.TurbulenceClosureParameters.FreeParameters-Tuple{Any}" href="#OceanTurbulenceParameterEstimation.TurbulenceClosureParameters.FreeParameters-Tuple{Any}"><code>OceanTurbulenceParameterEstimation.TurbulenceClosureParameters.FreeParameters</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">FreeParameters(priors; names = Symbol.(keys(priors)))</code></pre><p>Return named <code>FreeParameters</code> with priors. Free parameter <code>names</code> are inferred from the keys of <code>priors</code> if not provided.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; using Distributions, OceanTurbulenceParameterEstimation

julia&gt; priors = (ν = Normal(1e-4, 1e-5), κ = Normal(1e-3, 1e-5))
(ν = Normal{Float64}(μ=0.0001, σ=1.0e-5), κ = Normal{Float64}(μ=0.001, σ=1.0e-5))

julia&gt; free_parameters = FreeParameters(priors)
FreeParameters with 2 parameters
├── names: (:ν, :κ)
└── priors: Dict{Symbol, Any}
    ├── ν =&gt; Normal{Float64}(μ=0.0001, σ=1.0e-5)
    └── κ =&gt; Normal{Float64}(μ=0.001, σ=1.0e-5)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/OceanTurbulenceParameterEstimation.jl/blob/dd0989cb56fb7c7e0361e5611e1fc3f0b6e8f967/src/TurbulenceClosureParameters.jl#L15-L37">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OceanTurbulenceParameterEstimation.TurbulenceClosureParameters.closure_with_parameters-Tuple{Any, Any}" href="#OceanTurbulenceParameterEstimation.TurbulenceClosureParameters.closure_with_parameters-Tuple{Any, Any}"><code>OceanTurbulenceParameterEstimation.TurbulenceClosureParameters.closure_with_parameters</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">closure_with_parameters(closure, parameters)</code></pre><p>Returns a new object where for each (<code>parameter_name</code>, <code>parameter_value</code>) pair  in <code>parameters</code>, the value corresponding to the key in <code>object</code> that matches <code>parameter_name</code> is replaced with <code>parameter_value</code>.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; using OceanTurbulenceParameterEstimation.TurbulenceClosureParameters: closure_with_parameters

julia&gt; struct ClosureSubModel; a; b end

julia&gt; struct Closure; test; c end

julia&gt; closure = Closure(ClosureSubModel(1, 2), 3)
Closure(ClosureSubModel(1, 2), 3)

julia&gt; parameters = (a = 12, d = 7)
(a = 12, d = 7)

julia&gt; closure_with_parameters(closure, parameters)
Closure(ClosureSubModel(12, 2), 3)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/OceanTurbulenceParameterEstimation.jl/blob/dd0989cb56fb7c7e0361e5611e1fc3f0b6e8f967/src/TurbulenceClosureParameters.jl#L92-L118">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OceanTurbulenceParameterEstimation.TurbulenceClosureParameters.update_closure_ensemble_member!-Tuple{AbstractVector{T} where T, Any, Any}" href="#OceanTurbulenceParameterEstimation.TurbulenceClosureParameters.update_closure_ensemble_member!-Tuple{AbstractVector{T} where T, Any, Any}"><code>OceanTurbulenceParameterEstimation.TurbulenceClosureParameters.update_closure_ensemble_member!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">update_closure_ensemble_member!(closures, p_ensemble, parameters)</code></pre><p>Use <code>parameters</code> to update closure from <code>closures</code> that corresponds to ensemble member <code>p_ensemble</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/OceanTurbulenceParameterEstimation.jl/blob/dd0989cb56fb7c7e0361e5611e1fc3f0b6e8f967/src/TurbulenceClosureParameters.jl#L130-L134">source</a></section></article><h2 id="EnsembleKalmanInversions"><a class="docs-heading-anchor" href="#EnsembleKalmanInversions">EnsembleKalmanInversions</a><a id="EnsembleKalmanInversions-1"></a><a class="docs-heading-anchor-permalink" href="#EnsembleKalmanInversions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="OceanTurbulenceParameterEstimation.EnsembleKalmanInversions.EnsembleKalmanInversion-Tuple{Any}" href="#OceanTurbulenceParameterEstimation.EnsembleKalmanInversions.EnsembleKalmanInversion-Tuple{Any}"><code>OceanTurbulenceParameterEstimation.EnsembleKalmanInversions.EnsembleKalmanInversion</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">EnsembleKalmanInversion(inverse_problem; noise_covariance=1e-2)</code></pre><p>Return an object that interfaces with <a href="https://github.com/CliMA/EnsembleKalmanProcesses.jl">EnsembleKalmanProcesses.jl</a> and uses Ensemble Kalman Inversion to iteratively &quot;solve&quot; the inverse problem:</p><p class="math-container">\[y = G(θ) + η,\]</p><p>for the parameters <span>$θ$</span>, where <span>$y$</span> is a &quot;normalized&quot; vector of observations, <span>$G(θ)$</span> is a forward map that predicts the observations, and <span>$η ∼ N(0, Γ_y)$</span> is zero-mean random noise with covariance matrix <span>$Γ_y$</span> representing uncertainty in the observations.</p><p>By &quot;solve&quot;, we mean that the iteration finds the parameter values <span>$θ$</span> that minimizes the distance between <span>$y$</span> and <span>$G(θ)$</span>.</p><p>The &quot;forward map output&quot; <code>G</code> can have many interpretations. The specific statistics that <code>G</code> computes have to be selected for each use case to provide a concise summary of the complex model solution that contains the values that we would most like to match to the corresponding truth values <code>y</code>. For example, in the context of an ocean-surface boundary layer parametrization, this summary could be a vector of  concatenated <code>u</code>, <code>v</code>, <code>b</code>, <code>e</code> profiles at all or some time steps of the CATKE solution.</p><p>(For more details on the Ensemble Kalman Inversion algorithm refer to the <a href="https://clima.github.io/EnsembleKalmanProcesses.jl/stable/ensemble_kalman_inversion/">EnsembleKalmanProcesses.jl Documentation</a>.)</p><p><strong>Arguments</strong></p><ul><li><p><code>inverse_problem :: InverseProblem</code>: Represents an inverse problem representing the comparison between                                      synthetic observations generated by <a href="https://clima.github.io/OceananigansDocumentation/stable/">Oceananigans.jl</a>                                      and model predictions, also generated by Oceananigans.jl.</p></li><li><p><code>noise_covariance</code> (<code>AbstractMatrix</code> or <code>Number</code>): normalized covariance representing observational                                                    uncertainty. If <code>noise_covariance isa Number</code> then                                                    it&#39;s converted to an identity matrix scaled by                                                    <code>noise_covariance</code>.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/OceanTurbulenceParameterEstimation.jl/blob/dd0989cb56fb7c7e0361e5611e1fc3f0b6e8f967/src/EnsembleKalmanInversions.jl#L123-L160">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OceanTurbulenceParameterEstimation.EnsembleKalmanInversions.IterationSummary" href="#OceanTurbulenceParameterEstimation.EnsembleKalmanInversions.IterationSummary"><code>OceanTurbulenceParameterEstimation.EnsembleKalmanInversions.IterationSummary</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct IterationSummary{P, M, C, V, E}</code></pre><p>Container with information about each iteration of the Ensemble Kalman Process.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/OceanTurbulenceParameterEstimation.jl/blob/dd0989cb56fb7c7e0361e5611e1fc3f0b6e8f967/src/EnsembleKalmanInversions.jl#L321-L325">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OceanTurbulenceParameterEstimation.EnsembleKalmanInversions.IterationSummary-Tuple{Any, Any, Any}" href="#OceanTurbulenceParameterEstimation.EnsembleKalmanInversions.IterationSummary-Tuple{Any, Any, Any}"><code>OceanTurbulenceParameterEstimation.EnsembleKalmanInversions.IterationSummary</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">IterationSummary(eki, parameters, forward_map)</code></pre><p>Return the summary for Ensemble Kalman Process <code>eki</code> with free <code>parameters</code> and <code>forward_map</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/OceanTurbulenceParameterEstimation.jl/blob/dd0989cb56fb7c7e0361e5611e1fc3f0b6e8f967/src/EnsembleKalmanInversions.jl#L334-L338">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OceanTurbulenceParameterEstimation.EnsembleKalmanInversions.IterationSummary-Tuple{Any}" href="#OceanTurbulenceParameterEstimation.EnsembleKalmanInversions.IterationSummary-Tuple{Any}"><code>OceanTurbulenceParameterEstimation.EnsembleKalmanInversions.IterationSummary</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">IterationSummary(eki)</code></pre><p>Return the summary for Ensemble Kalman Process <code>eki</code> before any iteration.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/OceanTurbulenceParameterEstimation.jl/blob/dd0989cb56fb7c7e0361e5611e1fc3f0b6e8f967/src/EnsembleKalmanInversions.jl#L391-L395">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OceanTurbulenceParameterEstimation.EnsembleKalmanInversions.UnscentedKalmanInversion-Tuple{Any, Any, Any}" href="#OceanTurbulenceParameterEstimation.EnsembleKalmanInversions.UnscentedKalmanInversion-Tuple{Any, Any, Any}"><code>OceanTurbulenceParameterEstimation.EnsembleKalmanInversions.UnscentedKalmanInversion</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">UnscentedKalmanInversion(inverse_problem, prior_mean, prior_cov;
                         noise_covariance = 1e-2, α_reg = 1, update_freq = 0)</code></pre><p>Return an object that interfaces with <a href="https://github.com/CliMA/EnsembleKalmanProcesses.jl">EnsembleKalmanProcesses.jl</a> and uses Unscented Kalman Inversion to iteratively &quot;solve&quot; the inverse problem:</p><p class="math-container">\[y = G(θ) + η,\]</p><p>for the parameters <span>$θ$</span>, where <span>$y$</span> is a &quot;normalized&quot; vector of observations, <span>$G(θ)$</span> is a forward map that predicts the observations, and <span>$η ∼ N(0, Γ_y)$</span> is zero-mean random noise with covariance matrix <span>$Γ_y$</span> representing uncertainty in the observations.</p><p>By &quot;solve&quot;, we mean that the iteration finds the parameter values <span>$θ$</span> that minimizes the distance between <span>$y$</span> and <span>$G(θ)$</span>.</p><p>(For more details on the Unscented Kalman Inversion algorithm refer to the <a href="https://clima.github.io/EnsembleKalmanProcesses.jl/stable/unscented_kalman_inversion/">EnsembleKalmanProcesses.jl Documentation</a>.)</p><p><strong>Arguments</strong></p><ul><li><p><code>inverse_problem :: InverseProblem</code>: an inverse problem representing the comparison between                                       synthetic observations generated by                                      <a href="https://clima.github.io/OceananigansDocumentation/stable/">Oceananigans.jl</a>                                      and model predictions also generated by Oceananigans.jl.</p></li><li><p><code>prior_mean :: Vector{Float64}</code>: prior mean</p></li><li><p><code>prior_cov :: Matrix{Float64}</code>: prior covariance</p></li><li><p><code>noise_covariance :: Float64</code>: observation error covariance</p></li><li><p><code>α_reg :: Float64</code>: regularization parameter toward the prior mean (0 &lt; <code>α_reg</code> ≤ 1);                     default <code>α_reg=1</code> implies no regularization</p></li><li><p><code>update_freq :: IT</code>: set to 0 when the inverse problem is not identifiable (default), namely the                      inverse problem has multiple solutions, the covariance matrix will represent                      only the sensitivity of the parameters, instead of posterior covariance information;                      set to 1 (or anything &gt; 0) when the inverse problem is identifiable, and                       the covariance matrix will converge to a good approximation of the                       posterior covariance with an uninformative prior</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/OceanTurbulenceParameterEstimation.jl/blob/dd0989cb56fb7c7e0361e5611e1fc3f0b6e8f967/src/EnsembleKalmanInversions.jl#L205-L249">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OceanTurbulenceParameterEstimation.EnsembleKalmanInversions.UnscentedKalmanInversionPostprocess-Tuple{Any}" href="#OceanTurbulenceParameterEstimation.EnsembleKalmanInversions.UnscentedKalmanInversionPostprocess-Tuple{Any}"><code>OceanTurbulenceParameterEstimation.EnsembleKalmanInversions.UnscentedKalmanInversionPostprocess</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">UnscentedKalmanInversionPostprocess(eki)</code></pre><p><strong>Returns</strong></p><ul><li><code>mean :: Matrix{Float64}</code>: <code>N_iterations</code> × <code>N_parameters</code> mean matrix</li><li><code>cov :: Vector{Matrix{Float64}}</code>: <code>N_iterations</code> vector of <code>N_parameters</code> × <code>N_parameters</code> covariance matrix</li><li><code>std :: Matrix{Float64}</code>: <code>N_iterations</code> × <code>N_parameters</code> standard deviation matrix</li><li><code>err :: Vector{Float64}</code>: <code>N_iterations</code> error array</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/OceanTurbulenceParameterEstimation.jl/blob/dd0989cb56fb7c7e0361e5611e1fc3f0b6e8f967/src/EnsembleKalmanInversions.jl#L289-L299">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OceanTurbulenceParameterEstimation.EnsembleKalmanInversions.iterate!-Tuple{EnsembleKalmanInversion}" href="#OceanTurbulenceParameterEstimation.EnsembleKalmanInversions.iterate!-Tuple{EnsembleKalmanInversion}"><code>OceanTurbulenceParameterEstimation.EnsembleKalmanInversions.iterate!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">iterate!(eki::EnsembleKalmanInversion; iterations=1)</code></pre><p>Iterate the ensemble Kalman inversion problem <code>eki</code> forward by <code>iterations</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/OceanTurbulenceParameterEstimation.jl/blob/dd0989cb56fb7c7e0361e5611e1fc3f0b6e8f967/src/EnsembleKalmanInversions.jl#L474-L478">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OceanTurbulenceParameterEstimation.EnsembleKalmanInversions.parameter_ensemble-Tuple{EnsembleKalmanInversion}" href="#OceanTurbulenceParameterEstimation.EnsembleKalmanInversions.parameter_ensemble-Tuple{EnsembleKalmanInversion}"><code>OceanTurbulenceParameterEstimation.EnsembleKalmanInversions.parameter_ensemble</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">parameter_ensemble(eki::EnsembleKalmanInversion)</code></pre><p>Return a <code>Vector</code> of parameter sets (in physical / constrained space) for each ensemble member.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/OceanTurbulenceParameterEstimation.jl/blob/dd0989cb56fb7c7e0361e5611e1fc3f0b6e8f967/src/EnsembleKalmanInversions.jl#L88-L92">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OceanTurbulenceParameterEstimation.EnsembleKalmanInversions.sample-NTuple{4, Any}" href="#OceanTurbulenceParameterEstimation.EnsembleKalmanInversions.sample-NTuple{4, Any}"><code>OceanTurbulenceParameterEstimation.EnsembleKalmanInversions.sample</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">sample(eki, θ, G, n)</code></pre><p>Generate <code>n</code> new particles sampled from a multivariate Normal distribution parameterized  by the ensemble mean and covariance computed based on the <code>N_θ</code> × <code>N_ensemble</code> ensemble  array <code>θ</code>, under the condition that all <code>n</code> particles lead to forward map outputs that are &quot;stable&quot; (don&#39;t include <code>NaNs</code>). <code>G</code> is the inverting forward map computed on ensemble <code>θ</code>.</p><p>Return an <code>N_θ</code> × <code>n</code> array of new particles, along with the inverting forward  map output corresponding to the new particles.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/OceanTurbulenceParameterEstimation.jl/blob/dd0989cb56fb7c7e0361e5611e1fc3f0b6e8f967/src/EnsembleKalmanInversions.jl#L436-L447">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../public/">« Public</a><a class="docs-footer-nextpage" href="../function_index/">Function index »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.10 on <span class="colophon-date" title="Thursday 13 January 2022 02:10">Thursday 13 January 2022</span>. Using Julia version 1.6.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
